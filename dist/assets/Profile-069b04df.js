import{o as se,r as O,j as e,x as Q,y as ae,z as re,f as le,A as te,B as de,C as ne,D as ie}from"./index-dde97d41.js";const oe=()=>{var u,g,p,b,h,f,y,j,N,v,w,C,k,P,F,A,S,E,M,I,L,R,Z,D,W,z;const{state:s,updateProfile:V}=se(),[a,x]=O.useState(!1),[r,o]=O.useState({firstName:((u=s.user)==null?void 0:u.firstName)||"",lastName:((g=s.user)==null?void 0:g.lastName)||"",email:((p=s.user)==null?void 0:p.email)||"",phone:((b=s.user)==null?void 0:b.phone)||"",address:{street:((f=(h=s.user)==null?void 0:h.address)==null?void 0:f.street)||"",city:((j=(y=s.user)==null?void 0:y.address)==null?void 0:j.city)||"",province:((v=(N=s.user)==null?void 0:N.address)==null?void 0:v.province)||"",postalCode:((C=(w=s.user)==null?void 0:w.address)==null?void 0:C.postalCode)||""},preferences:{language:((P=(k=s.user)==null?void 0:k.preferences)==null?void 0:P.language)||"en",currency:"ZAR",newsletter:((A=(F=s.user)==null?void 0:F.preferences)==null?void 0:A.newsletter)||!1}}),l=t=>{const{name:d,value:c,type:m}=t.target;if(d.includes("address.")){const n=d.split(".")[1];o(i=>({...i,address:{...i.address,[n]:c}}))}else if(d.includes("preferences.")){const n=d.split(".")[1];o(i=>({...i,preferences:{...i.preferences,[n]:m==="checkbox"?t.target.checked:c}}))}else o(n=>({...n,[d]:c}))},Y=()=>{V(r),x(!1)},_=()=>{var t,d,c,m,n,i,T,B,G,K,U,X,$,q,H,J;o({firstName:((t=s.user)==null?void 0:t.firstName)||"",lastName:((d=s.user)==null?void 0:d.lastName)||"",email:((c=s.user)==null?void 0:c.email)||"",phone:((m=s.user)==null?void 0:m.phone)||"",address:{street:((i=(n=s.user)==null?void 0:n.address)==null?void 0:i.street)||"",city:((B=(T=s.user)==null?void 0:T.address)==null?void 0:B.city)||"",province:((K=(G=s.user)==null?void 0:G.address)==null?void 0:K.province)||"",postalCode:((X=(U=s.user)==null?void 0:U.address)==null?void 0:X.postalCode)||""},preferences:{language:((q=($=s.user)==null?void 0:$.preferences)==null?void 0:q.language)||"en",currency:"ZAR",newsletter:((J=(H=s.user)==null?void 0:H.preferences)==null?void 0:J.newsletter)||!1}}),x(!1)};if(!s.isAuthenticated)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please sign in to view your profile"})]})});const ee=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"];return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account information"})]}),a?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{onClick:_,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Profile"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsxs("span",{className:"text-2xl font-bold text-white",children:[(E=(S=s.user)==null?void 0:S.firstName)==null?void 0:E[0],(I=(M=s.user)==null?void 0:M.lastName)==null?void 0:I[0]]})}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[(L=s.user)==null?void 0:L.firstName," ",(R=s.user)==null?void 0:R.lastName]}),e.jsx("p",{className:"text-gray-600",children:(Z=s.user)==null?void 0:Z.email}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${((D=s.user)==null?void 0:D.customerType)==="wholesale"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:((W=s.user)==null?void 0:W.customerType)==="wholesale"?"Wholesale Customer":"Retail Customer"})}),e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-700",children:[e.jsx(te,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Loyalty Points"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:((z=s.user)==null?void 0:z.loyaltyPoints)||0})]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:l,disabled:!a,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:l,disabled:!a,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:l,disabled:!a,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(ie,{className:"h-5 w-5"}),e.jsx("span",{children:"Address Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),e.jsx("input",{type:"text",name:"address.street",value:r.address.street,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"address.city",value:r.address.city,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),e.jsxs("select",{name:"address.province",value:r.address.province,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[e.jsx("option",{value:"",children:"Select Province"}),ee.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),e.jsx("input",{type:"text",name:"address.postalCode",value:r.address.postalCode,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),e.jsxs("select",{name:"preferences.language",value:r.preferences.language,onChange:l,disabled:!a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"af",children:"Afrikaans"}),e.jsx("option",{value:"zu",children:"Zulu"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"preferences.newsletter",checked:r.preferences.newsletter,onChange:l,disabled:!a,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 disabled:opacity-50"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Subscribe to newsletter for updates and special offers"})]})]})]})]})})})]})]})};export{oe as default};
