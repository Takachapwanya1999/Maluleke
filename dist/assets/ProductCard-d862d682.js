import{i as v,o as y,j as e,L as m,v as h,c as f,n as g,w as p}from"./index-dde97d41.js";const k=({product:s,viewMode:j="grid",showRemoveFromWishlist:c=!1})=>{var x;const{addItem:N}=v(),{state:r,addToWishlist:u,removeFromWishlist:b}=y(),a=i=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"}).format(i),o=i=>{i.preventDefault(),i.stopPropagation(),N(s)},n=i=>{var d;if(i.preventDefault(),i.stopPropagation(),!r.isAuthenticated){alert("Please sign in to add items to your wishlist");return}((d=r.user)==null?void 0:d.wishlist.includes(s.id))||c?b(s.id):u(s.id)},l=((x=r.user)==null?void 0:x.wishlist.includes(s.id))||!1;return j==="list"?e.jsx(m,{to:`/products/${s.id}`,className:"group",children:e.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-300 flex",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-l-lg w-48 h-32",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.originalPrice&&e.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 text-xs font-semibold rounded",children:"SALE"})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:s.name}),e.jsx("button",{onClick:n,className:`p-2 rounded-full transition-colors ${l?"text-red-500 bg-red-50":"text-gray-400 hover:text-red-500"}`,children:e.jsx(h,{className:`h-5 w-5 ${l?"fill-current":""}`})})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((i,t)=>e.jsx(f,{className:`h-4 w-4 ${t<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},t))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.rating," (",s.reviews," reviews)"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:a(s.price)}),s.originalPrice&&e.jsx("span",{className:"text-sm text-gray-500 line-through",children:a(s.originalPrice)})]}),e.jsxs("button",{onClick:o,disabled:!s.inStock,className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:s.inStock?"Add to Cart":"Out of Stock"})]})]})]})]})}):e.jsx(m,{to:`/products/${s.id}`,className:"group",children:e.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-300 h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("button",{onClick:n,className:`absolute top-2 right-2 p-2 rounded-full transition-colors ${l?"bg-red-500 text-white":"bg-white text-gray-400 hover:text-red-500"}`,children:e.jsx(h,{className:`h-4 w-4 ${l?"fill-current":""}`})}),s.originalPrice&&e.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 text-xs font-semibold rounded",children:"SALE"}),!s.inStock&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((i,t)=>e.jsx(f,{className:`h-4 w-4 ${t<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},t))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.reviews,")"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:a(s.price)}),s.originalPrice&&e.jsx("span",{className:"text-sm text-gray-500 line-through",children:a(s.originalPrice)})]}),s.originalPrice&&e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Save ",Math.round((s.originalPrice-s.price)/s.originalPrice*100),"%"]})]}),e.jsxs("button",{onClick:o,disabled:!s.inStock,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:s.inStock?"Add to Cart":"Out of Stock"})]})]})]}),c&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("button",{onClick:n,className:"w-full bg-red-100 text-red-600 py-2 px-4 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Remove from Wishlist"})]})})]})})};export{k as P};
